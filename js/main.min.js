const mobileMenu=document.querySelector(".mobile-menu"),mobileMenuBtn=document.querySelector(".mobile-menu__btn");mobileMenuBtn.addEventListener("click",(function(){mobileMenu.classList.toggle("mobile-menu--hidden")}));let allItemsVisible=!1;function updateVisibleItems(){const e=document.querySelector(".popular__dish-list"),t=Array.from(e.children),o=getNumberOfColumns();if(!allItemsVisible){t.forEach(((e,t)=>{t<o?e.classList.remove("hidden"):e.classList.add("hidden")}));const e=document.querySelector("#seeAllDishes");t.length>o?e.style.display="block":e.style.display="none"}}function showAllItems(){const e=document.querySelectorAll(".popular__dish-item.hidden");console.log("Button clicked, showing all items"),e.forEach((e=>{e.classList.remove("hidden")})),document.querySelector("#seeAllDishes").style.display="none",allItemsVisible=!0}function getNumberOfColumns(){const e=window.innerWidth;return e<=620?2:e<=910?3:4}window.addEventListener("load",updateVisibleItems),window.addEventListener("resize",updateVisibleItems),document.querySelector("#seeAllDishes").addEventListener("click",showAllItems);const swiper=new Swiper(".swiper",{loop:!0,slidesPerView:3,spaceBetween:30,breakpoints:{0:{slidesPerView:1},360:{slidesPerView:1},768:{slidesPerView:2},1120:{slidesPerView:3}},pagination:{el:".swiper-pagination"}});document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".reservation__form-input-persons").forEach((e=>{e.addEventListener("input",(function(){let e=this.value;/^\d*$/.test(e)||(this.value=e.replace(/[^\d]/g,"")),e<1?this.value=1:e>50&&(this.value=50)})),e.addEventListener("blur",(function(){let e=this.value;e<1?this.value=1:e>50&&(this.value=50)}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("timeImterval"),t=document.querySelector("#timeImterval + .placeholder");e.addEventListener("focus",(function(){t.classList.add("placeholder-hide")})),e.addEventListener("change",(function(){this.value?t.classList.add("placeholder-hide"):t.classList.remove("placeholder-hide")}));const o=document.getElementById("guest-date"),s=document.querySelector("#guest-date + .placeholder");o.addEventListener("focus",(function(){s.classList.add("placeholder-hide")})),o.addEventListener("change",(function(){this.value?s.classList.add("placeholder-hide"):s.classList.remove("placeholder-hide")}));document.querySelectorAll(".reservation__form-input:not(.reservation__form-input-time):not(.reservation__form-date)").forEach((e=>{const t=e.nextElementSibling;e.addEventListener("focus",(function(){t.classList.add("placeholder-hide")})),e.addEventListener("input",(function(){this.value?t.classList.add("placeholder-hide"):t.classList.remove("placeholder-hide")})),e.addEventListener("blur",(function(){this.value||t.classList.remove("placeholder-hide")}))}));const n=document.getElementById("reservationForm");n.addEventListener("submit",(function(e){e.preventDefault();const t=document.getElementById("timeImterval").value,o=document.getElementById("guest-date").value;t&&o?function(){const e=new FormData(n);fetch("https://formspree.io/f/mgeggpbv",{method:"POST",body:e,headers:{Accept:"application/json"}}).then((e=>{if(!e.ok)throw new Error("Oops! There was a problem submitting your form");n.reset(),document.getElementById("reservationSuccessMessage").classList.add("show"),document.querySelectorAll(".placeholder").forEach((e=>{e.classList.remove("placeholder-hide")}))})).catch((e=>{alert(e.message)}))}():alert("Please select both time and date.")}))})),document.addEventListener("DOMContentLoaded",(function(){flatpickr(".reservation__form-input-time",{enableTime:!0,noCalendar:!0,time_24hr:!0,disableMobile:!0,minTime:"09:00",maxTime:"20:00",dateFormat:"H:i"}),flatpickr(".reservation__form-date",{dateFormat:"Y-m-d",minDate:"today",defaultDate:null});const e=document.querySelector(".reservation__form-date"),t=document.querySelector(".reservation__form-input-time");e.value="",t.value="";const o=document.getElementById("reservationForm");o.addEventListener("submit",(function(e){e.preventDefault();const t=document.getElementById("timeImterval").value,s=document.getElementById("guest-date").value;if(!t||!s)return void alert("Please select both time and date.");const n="09:00",r="20:00";t<n||t>r?alert(`Please select a time between ${n} and ${r}.`):function(){const e=new FormData(o);fetch("https://formspree.io/f/mgeggpbv",{method:"POST",body:e,headers:{Accept:"application/json"}}).then((e=>{if(!e.ok)throw new Error("Oops! There was a problem submitting your form");o.reset(),document.getElementById("reservationSuccessMessage").classList.add("show")})).catch((e=>{alert(e.message)}))}()}))}));const timeLine=gsap.timeline();timeLine.from(".header__menu-categories",{scale:.7,opacity:.5,duration:.5}).from(".menu-social__items",{scale:.7,opacity:0,duration:.5}).fromTo(".welcome__title, .welcome__descr, .welcome__view-menu-button",{opacity:0,y:50},{opacity:1,y:0,duration:1,stagger:.5}),gsap.registerPlugin(ScrollTrigger),gsap.from(".contacts__address-list",{opacity:.5,scale:.5,duration:2,stagger:.5,scrollTrigger:{trigger:".contacts__address",start:"top bottom",end:"top top",scrub:!0}}),gsap.from(".menu__list-item",{opacity:0,xPercent:40,duration:2,stagger:.7,scrollTrigger:{trigger:".menu__list",start:"top bottom",end:"bottom bottom",scrub:!0}}),gsap.to(".offers__banner-price",{x:10,y:10,scale:1.15,duration:.5,yoyo:!0,repeat:-1,transformOrigin:"left"}),gsap.from(".services__list-item",{opacity:.5,scale:.7,duration:1,stagger:.5,scrollTrigger:{trigger:".services__list",start:"center bottom",end:"center top"}}),gsap.to(".reservation__form-btn",{scale:.9,duration:.5,yoyo:!0,repeat:-1}),gsap.from(".footer__hashtag",{y:100,opacity:0,duration:.7,scrollTrigger:{trigger:".footer__hashtag",start:"bottom bottom"}}),gsap.from(".footer__inner .menu-social",{y:100,opacity:0,duration:1.5,scrollTrigger:{trigger:".menu-social",start:"bottom bottom",delay:1}});